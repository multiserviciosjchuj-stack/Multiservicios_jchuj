<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Multiservicios Jchuj</title>
<meta name="description" content="Estructuras metálicas, plomería, instalaciones eléctricas, obra gris, mantenimiento general y armado estructural. 20 años de experiencia.">
<meta name="theme-color" content="#0f2a5a">
<!-- Favicons: el navegador usará la que encuentre -->
<link rel="icon" type="image/png"  href="./assets/img/logo/logo.png">
<link rel="icon" type="image/jpeg" href="./assets/img/logo/logo.jpg">
<link rel="icon" type="image/jpeg" href="./assets/img/logo/logo.jpeg">

<style>
  :root{
    --blue-900:#0f2a5a; --blue-700:#1f4ea8; --blue-600:#1b5fbf; --blue-100:#e8f0fe;
    --orange-500:#f97316; --ink:#1f2937; --muted:#556274;
    --radius:14px; --nav-h:64px; --safe-top: env(safe-area-inset-top, 0px);
  }

  *{box-sizing:border-box;margin:0;padding:0}
  html{scroll-behavior:smooth;-webkit-text-size-adjust:100%}
  /* Bloquea cualquier desbordamiento horizontal residual */
  html, body{ overflow-x: hidden; }
  img, svg, video, canvas{ max-width:100%; height:auto; display:block; }

  body{font-family:system-ui,-apple-system,Roboto,Arial,sans-serif;color:var(--ink);background:#fff;line-height:1.6}
  .container{max-width:1200px;margin:0 auto;padding:0 20px}
  a{color:var(--blue-700);text-decoration:none} a:hover{text-decoration:underline}
  .btn{display:inline-block;padding:12px 20px;border-radius:12px;font-weight:600;border:2px solid var(--orange-500);color:#fff;background:var(--orange-500)}
  .btn--ghost{color:var(--orange-500);background:transparent}
  .tag{display:inline-block;font-size:.8rem;padding:6px 10px;border-radius:999px;background:var(--blue-100);color:var(--blue-700)}

  /* NAV */
  nav.gs-topnav{position:sticky;top:0;z-index:50;background:rgba(15,42,90,.92);backdrop-filter:blur(10px);border-bottom:1px solid rgba(255,255,255,.12)}
  .topnav-inner{height:var(--nav-h);display:flex;align-items:center;justify-content:space-between}
  .brand{display:flex;align-items:center;gap:10px;color:#fff;font-weight:800;letter-spacing:.2px;text-decoration:none}
  .brand img{width:28px;height:28px;object-fit:contain;border-radius:6px}
  .menu{list-style:none;display:flex;gap:16px}
  .menu a{color:#fff;opacity:.9;padding:8px 10px;border-radius:10px}
  .menu a:hover,.menu a.active{opacity:1;background:rgba(255,255,255,.08);text-decoration:none}
  .nav-toggle{display:none;color:#fff;background:transparent;border:1px solid rgba(255,255,255,.35);padding:8px 10px;border-radius:10px}
  @media (max-width:880px){
    .nav-toggle{display:block}
    .menu{position:absolute;right:20px;top:calc(var(--nav-h) - 8px);display:none;flex-direction:column;gap:10px;background:rgba(15,42,90,.98);border:1px solid rgba(255,255,255,.15);border-radius:12px;padding:12px;left:20px;width:auto;max-width:calc(100% - 40px)}
    .menu.open{display:flex}
  }

  /* HERO + CARRUSEL */
  header.hero{position:relative;min-height:72vh;display:grid;place-items:center;color:#fff;text-align:center;overflow:hidden}
  .hero-bg{position:absolute;inset:0;z-index:0}
  .hero-bg img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;opacity:0;transition:opacity .8s ease}
  .hero-bg img.is-active{opacity:1}
  .hero::before{content:"";position:absolute;inset:0;z-index:1;background:linear-gradient(135deg,rgba(15,42,90,.55),rgba(0,0,0,.35))}
  .hero .content{position:relative;z-index:2;padding:40px 20px}
  .hero h1{font-weight:300;letter-spacing:2px;text-transform:uppercase;font-size:clamp(1.6rem,5.2vw,2.6rem)}
  .hero p{margin-top:10px;opacity:.95;font-size:clamp(.95rem,3.6vw,1.1rem)}
  .carousel-controls{position:absolute;inset:auto 0 18px 0;z-index:3;display:flex;align-items:center;justify-content:center;gap:8px}
  .dot{width:10px;height:10px;border-radius:50%;background:rgba(255,255,255,.45);border:1px solid rgba(255,255,255,.7)}
  .dot.is-active{background:var(--orange-500)}
  .arrow{position:absolute;top:50%;transform:translateY(-50%);z-index:3;background:rgba(0,0,0,.35);border:1px solid rgba(255,255,255,.35);color:#fff;padding:10px 12px;border-radius:999px;cursor:pointer;user-select:none}
  .arrow:hover{background:rgba(0,0,0,.5)} .arrow.prev{left:14px} .arrow.next{right:14px}
  @media (max-width:720px){header.hero{min-height:64vh}.arrow{padding:8px 10px}.arrow.prev{left:8px}.arrow.next{right:8px}.carousel-controls{gap:6px}.dot{width:8px;height:8px}}

  /* SECCIONES */
  section{padding:clamp(48px,7vw,70px) 20px}
  h2.section-title{text-align:center;color:var(--blue-900);font-weight:300;font-size:2.1rem;letter-spacing:.5px;margin-bottom:38px;position:relative}
  h2.section-title::after{content:"";width:70px;height:3px;background:linear-gradient(90deg,var(--orange-500),var(--blue-600));position:absolute;left:50%;bottom:-14px;transform:translateX(-50%);border-radius:6px}

  /* QUIÉNES SOMOS */
  .about{background:#f8fafc}
  .about-grid{display:grid;grid-template-columns:1fr 1fr;gap:32px;max-width:1000px;margin:0 auto}
  .about p{color:var(--muted)}
  .kpi{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:16px}
  .kpi .card{background:#fff;border:1px solid #e5eef9;padding:16px;border-radius:var(--radius);text-align:center}
  .kpi .card b{font-size:1.8rem;color:var(--blue-700)}
  @media (max-width:860px){.about-grid{grid-template-columns:1fr}}

  /* SERVICIOS */
  .services{max-width:1100px;margin:0 auto;display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:18px}
  .svc{border:1px solid #e5eef9;border-radius:var(--radius);padding:18px;background:#fff;box-shadow:0 2px 10px rgba(20,61,121,.05)}
  .svc h3{color:var(--blue-900);font-size:1.05rem;margin-bottom:8px;display:flex;align-items:center;gap:8px}
  .svc h3::before{content:"";width:10px;height:10px;border-radius:3px;background:var(--orange-500);display:inline-block}

  /* PROYECTOS */
  .projects-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:18px;max-width:1100px;margin:0 auto}
  .project-card{border:1px solid #e5eef9;border-radius:var(--radius);overflow:hidden;background:#fff;display:flex;flex-direction:column}
  .project-card .cover{width:100%;aspect-ratio:16/9;object-fit:cover;display:block}
  .project-card .meta{padding:14px;display:flex;align-items:center;justify-content:space-between;gap:8px}
  .project-card h3{margin:0;color:var(--blue-900);font-size:1.05rem}
  .project-card .btn{padding:10px 14px;border-width:2px}

  /* LIGHTBOX */
  .lightbox{position:fixed;inset:0;background:rgba(0,0,0,.9);display:none;align-items:center;justify-content:center;z-index:100}
  .lightbox[aria-hidden="false"]{display:flex}
  .lightbox img{max-width:92vw;max-height:82vh;border-radius:10px;box-shadow:0 10px 30px rgba(0,0,0,.6)}
  .lb-close,.lb-prev,.lb-next{position:absolute;color:#fff;background:rgba(255,255,255,.12);border:1px solid rgba(255,255,255,.35);padding:10px 12px;border-radius:999px;cursor:pointer;user-select:none}
  .lb-close{top:18px;right:18px} .lb-prev{left:18px} .lb-next{right:18px}
  .lb-caption{position:absolute;bottom:16px;left:0;right:0;text-align:center;color:#e5eef9;font-size:.95rem;padding:0 14px}

  /* CONTACTO & FOOTER */
  .contact{background:linear-gradient(180deg,#f9fbff,#ffffff)}
  .contact-cta{text-align:center;margin-top:20px}
  footer{margin-top:0;padding:36px 20px;background:var(--blue-900);color:#dbe6ff;text-align:center}
  footer a{color:#fff;text-decoration:underline}

  @media (prefers-reduced-motion:reduce){.hero-bg img{transition:none !important}}

  /* ===== Anclas compensadas por el alto REAL del menú y el safe area ===== */
  header#inicio, section[id]{
    scroll-margin-top: calc(var(--nav-h) + var(--safe-top) + 20px);
  }
  @media (max-width:640px){
    header#inicio, section[id]{
      scroll-margin-top: calc(var(--nav-h) + var(--safe-top) + 32px);
    }
  }

  /* ===== Centrados duros en móvil ===== */
  @media (max-width: 640px){
    .container { text-align: center; }
    .about-grid{ grid-template-columns:1fr !important; text-align:center; }
    .about-grid h3, .about-grid p{ text-align:center; }
    .kpi{ gap:14px; justify-items:center; }
    .project-card .meta{ justify-content:center; gap:10px; }
    .project-card h3{ text-align:center; width:100%; }
    .contact .container{ text-align:center; }
  }
  @media (max-width: 380px){
    h2.section-title{ font-size:1.8rem; }
  }
</style>
</head>
<body>

<nav class="gs-topnav" role="navigation" aria-label="Menú principal">
  <div class="topnav-inner container">
    <a class="brand" href="#inicio">
      <!-- Sin src y sin onerror: el script asigna la ruta correcta -->
      <img id="brand-logo" alt="Logo de Multiservicios Jchuj">
      Multiservicios Jchuj
    </a>
    <button class="nav-toggle" aria-expanded="false" aria-controls="primary-menu">☰</button>
    <ul id="primary-menu" class="menu">
      <li><a href="#inicio" class="active">Inicio</a></li>
      <li><a href="#quienes">Quiénes Somos</a></li>
      <li><a href="#servicios">Servicios</a></li>
      <li><a href="#galeria">Galería</a></li>
      <li><a href="#contacto">Contacto</a></li>
    </ul>
  </div>
</nav>

<header id="inicio" class="hero">
  <div class="hero-bg" aria-hidden="true"></div>
  <button class="arrow prev" aria-label="Anterior">‹</button>
  <button class="arrow next" aria-label="Siguiente">›</button>
  <div class="carousel-controls" aria-hidden="true"></div>
  <div class="content container">
    <span class="tag">20 años de experiencia</span>
    <h1>Soluciones en construcción y mantenimiento</h1>
    <p>Estructuras metálicas · Plomería · Instalaciones eléctricas · Obra gris · Mantenimiento general · Armado estructural</p>
    <div style="margin-top:16px;">
      <a class="btn" href="#contacto">Solicitar cotización</a>
      <a class="btn btn--ghost" href="tel:+50230473824" style="margin-left:8px;">Llamar ahora</a>
    </div>
  </div>
</header>

<section id="quienes" class="about">
  <div class="container">
    <h2 class="section-title">Quiénes Somos</h2>
    <div class="about-grid">
      <div>
        <p>
          En <strong>Multiservicios Jchuj</strong> diseñamos, construimos y mantenemos soluciones para el sector
          residencial, comercial e industrial. Nuestro portafolio integra <em>estructuras metálicas, plomería,
          instalaciones eléctricas, obra gris, mantenimiento general y armado estructural para edificios</em>.
          Durante <strong>20 años</strong> hemos operado con estándares de seguridad, calidad y cumplimiento,
          respaldados por mano de obra calificada.
        </p>
        <div class="kpi">
          <div class="card"><b>20+</b><div>años en el mercado</div></div>
          <div class="card"><b>1000+</b><div>proyectos ejecutados</div></div>
          <div class="card"><b>24/7</b><div>respuesta a emergencias</div></div>
        </div>
      </div>
      <div>
        <h3 style="color:var(--blue-900);margin-bottom:8px;">Misión</h3>
        <p>Proveer servicios integrales en estructuras metálicas, instalaciones y mantenimiento, garantizando seguridad, calidad y continuidad operativa para nuestros clientes, mediante procesos estandarizados, materiales certificados y un equipo técnico altamente capacitado.</p>
        <h3 style="color:var(--blue-900);margin:18px 0 8px;">Visión</h3>
        <p>Ser la empresa de referencia en soluciones constructivas y de mantenimiento en la región, reconocida por su confiabilidad, innovación, cumplimiento y la excelencia de su talento humano.</p>
      </div>
    </div>
  </div>
</section>

<section id="servicios">
  <div class="container">
    <h2 class="section-title">Servicios</h2>
    <div class="services">
      <article class="svc"><h3>Estructuras Metálicas</h3><p>Diseño, fabricación y montaje de naves, cubiertas, mezzanines, barandales y soldadura especializada.</p></article>
      <article class="svc"><h3>Plomería</h3><p>Instalaciones hidráulicas y sanitarias, detección de fugas, bombas, calentadores y pruebas de presión.</p></article>
      <article class="svc"><h3>Instalaciones Eléctricas</h3><p>Residencial e industrial: tableros, canalizaciones, luminarias, puesta a tierra y normativas de seguridad.</p></article>
      <article class="svc"><h3>Obra Gris</h3><p>Construcción de muros, pisos, repellados, estructura ligera y acabados base para proyectos nuevos o remodelación.</p></article>
      <article class="svc"><h3>Mantenimiento General</h3><p>Programas preventivos y correctivos para instalaciones, equipos y edificaciones. Planes a medida.</p></article>
      <article class="svc"><h3>Armado Estructural para Edificios</h3><p>Prefabricado, izaje y montaje con control dimensional, logística y seguridad en sitio.</p></article>
    </div>
  </div>
</section>

<section id="galeria">
  <div class="container">
    <h2 class="section-title">Galería de Proyectos</h2>
    <div id="projects-grid" class="projects-grid"></div>

    <!-- Lightbox -->
    <div id="lightbox" class="lightbox" aria-hidden="true">
      <button class="lb-close" aria-label="Cerrar">✕</button>
      <button class="lb-prev" aria-label="Anterior">‹</button>
      <img id="lb-img" src="" alt="">
      <button class="lb-next" aria-label="Siguiente">›</button>
      <div class="lb-caption" id="lb-cap"></div>
    </div>
  </div>
</section>

<section id="contacto" class="contact">
  <div class="container">
    <h2 class="section-title">Contacto</h2>
    <p style="text-align:center;color:var(--muted);max-width:780px;margin:0 auto;">
      ¿Listo para cotizar o agendar una visita técnica? Escríbenos y con gusto te atendemos.
    </p>
    <div class="contact-cta">
      <p style="margin:16px 0;">
        Tel: <a href="tel:+50230473824">+502 3047-3824</a> ·
        Email: <a href="mailto:multiserviciosjchuj@gmail.com">multiserviciosjchuj@gmail.com</a>
      </p>
      <a class="btn" href="https://wa.me/50230473824" target="_blank" rel="noopener">Escribir por WhatsApp</a>
    </div>
  </div>
</section>

<footer>
  © 2025 Multiservicios Jchuj — Guatemala, Centroamérica ·
  <a href="#inicio">Volver arriba</a>
</footer>

<script>
/* ========= Utilidades ========= */
function setSrcWithFallback(img, candidates){
  let i = 0;
  const tryNext = () => { if(i < candidates.length){ img.src = candidates[i++]; } };
  img.addEventListener('error', tryNext, { once:false });
  tryNext();
}
const EXT = [".png",".jpg",".jpeg",".webp",".PNG",".JPG",".JPEG",".WEBP"];

/* ===== Ajusta dinámicamente la variable --nav-h al alto real del menú ===== */
(function(){
  const nav = document.querySelector('.gs-topnav');
  if(!nav) return;
  function setNavHeight(){
    const h = Math.ceil(nav.getBoundingClientRect().height);
    document.documentElement.style.setProperty('--nav-h', h + 'px');
  }
  setNavHeight();
  window.addEventListener('resize', setNavHeight);
})();

/* ========= Logo: busca varias rutas/variantes (sin onerror que lo oculte) ========= */
(function(){
  const logo = document.getElementById('brand-logo');
  if(!logo) return;

  const bases = [
    "./assets/img/logo/logo",
    "./assets/img/logo/Logo",
    "./assets/img/logo/LOGO",
    "./assets/img/logo",     // por si subiste "logo.jpeg" directamente dentro de /logo/
    "./assets/img/Logo",
    "./assets/img/LOGO"
  ];
  const candidates = [];
  bases.forEach(b => EXT.forEach(e => candidates.push(encodeURI(`${b}${e}`))));
  setSrcWithFallback(logo, candidates);
})();

/* ========= Menú móvil + sección activa ========= */
(function(){
  const toggle = document.querySelector('.nav-toggle');
  const menu = document.getElementById('primary-menu');
  const links = menu.querySelectorAll('a');
  toggle.addEventListener('click', ()=>{
    const open = menu.classList.toggle('open');
    toggle.setAttribute('aria-expanded', open ? 'true' : 'false');
  });
  links.forEach(a => a.addEventListener('click', ()=>{
    menu.classList.remove('open'); toggle.setAttribute('aria-expanded','false');
  }));
  const sections = document.querySelectorAll('header#inicio, section[id]');
  const byHref = {}; links.forEach(a => { byHref[a.getAttribute('href')] = a; });
  const io = new IntersectionObserver((entries)=>{
    entries.forEach(entry=>{
      if(!entry.isIntersecting) return;
      const id = entry.target.id ? `#${entry.target.id}` : '#inicio';
      links.forEach(a => a.classList.remove('active'));
      if(byHref[id]) byHref[id].classList.add('active');
    });
  }, { threshold: 0.55 });
  sections.forEach(sec => io.observe(sec));
})();

/* ========= Carrusel: soporta carpetas "carousel" y "carrocel" y nombres carrocel1..14 ========= */
(function(){
  const hero = document.querySelector('.hero-bg');
  if(!hero) return;

  const NAMES = ["carrocel1","carrocel2","carrocel3","carrocel4","carrocel5","carrocel6","carrocel7","carrocel8","carrocel9","carrocel10","carrocel11","carrocel12","carrocel13","carrocel14"];
  const DIRS  = ["./assets/img/carousel/","./assets/img/carrocel/"];

  hero.innerHTML = NAMES.map((_,i)=>`<img ${i===0?'class="is-active"':''} decoding="async" ${i===0?'fetchpriority="high"':''} alt="">`).join("");
  const imgs = Array.from(hero.querySelectorAll('img'));

  imgs.forEach((img, i)=>{
    const candidates = [];
    DIRS.forEach(d => EXT.forEach(e => candidates.push(encodeURI(d + NAMES[i] + e))));
    setSrcWithFallback(img, candidates);
  });

  const dotsWrap = document.querySelector('.carousel-controls');
  dotsWrap.innerHTML = imgs.map((_,i)=>`<span class="dot ${i===0?'is-active':''}" data-i="${i}"></span>`).join("");
  const dots = Array.from(dotsWrap.querySelectorAll('.dot'));

  let index = 0, total = imgs.length, ms = 5000, timer = null;
  const show = (i) => { imgs.forEach((el,k)=>el.classList.toggle('is-active', k===i)); dots.forEach((d,k)=>d.classList.toggle('is-active', k===i)); };
  const next = () => { index = (index+1)%total; show(index); };
  const prev = () => { index = (index-1+total)%total; show(index); };

  document.querySelector('.arrow.next').addEventListener('click', ()=>{ next(); restart(); });
  document.querySelector('.arrow.prev').addEventListener('click', ()=>{ prev(); restart(); });
  dots.forEach(d => d.addEventListener('click', (e)=>{ index = +e.target.dataset.i; show(index); restart(); }));

  const reduce = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
  function start(){ if(!reduce) timer = setInterval(next, ms); }
  function stop(){ if(timer) clearInterval(timer); }
  function restart(){ stop(); start(); }
  hero.addEventListener('mouseenter', stop);
  hero.addEventListener('mouseleave', start);
  show(0); start();
})();

/* ========= Galería por proyectos + Lightbox (portadas con fallback) ========= */
(function(){
  const grid = document.getElementById('projects-grid');
  if(!grid) return;

  const PROJECTS = [
    { id: "proyecto-1", titulo: "Proyecto 1", fotos: ["proyecto1.1","proyecto1.2","proyecto1.3","proyecto1.4","proyecto1.5"] },
    { id: "proyecto-2", titulo: "Proyecto 2", fotos: ["proyecto2.1","proyecto2.2","proyecto2.3","proyecto2.4","proyecto2.5","proyecto2.6","proyecto2.7","proyecto2.8"] },
    { id: "proyecto-3", titulo: "Proyecto 3", fotos: ["proyecto3.1","proyecto3.2","proyecto3.3","proyecto3.4","proyecto3.5","proyecto3.6"] },
    { id: "proyecto-4", titulo: "Proyecto 4", fotos: ["proyecto4.1","proyecto4.2","proyecto4.3"] },
    { id: "proyecto-5", titulo: "Proyecto 5", fotos: ["proyecto5.1","proyecto5.2","proyecto5.3","proyecto5.4","proyecto5.5"] },
    { id: "proyecto-6", titulo: "Proyecto 6", fotos: ["proyecto6.1","proyecto6.2","proyecto6.3","proyecto6.4","proyecto6.5"] }
  ];

  grid.innerHTML = "";
  PROJECTS.forEach((p, idx) => {
    const card  = document.createElement("article");
    card.className = "project-card";

    // Portada con fallback
    const cover = document.createElement("img");
    cover.className = "cover";
    const base = `./assets/img/proyectos/${p.id}/${p.fotos[0]}`;
    const candidates = EXT.map(ext => encodeURI(base + ext));
    setSrcWithFallback(cover, candidates);

    const meta = document.createElement("div");
    meta.className = "meta";
    meta.innerHTML = `<h3>${p.titulo}</h3>
                      <a href="#" class="btn btn--ghost" data-project="${idx}">Ver fotos</a>`;

    card.appendChild(cover);
    card.appendChild(meta);
    grid.appendChild(card);
  });

  // Lightbox
  const lb     = document.getElementById('lightbox');
  const lbImg  = document.getElementById('lb-img');
  const lbCap  = document.getElementById('lb-cap');
  const openers= grid.querySelectorAll('[data-project]');
  const btnClose = lb.querySelector('.lb-close');
  const btnPrev  = lb.querySelector('.lb-prev');
  const btnNext  = lb.querySelector('.lb-next');

  let pi = 0, fi = 0;

  function buildCandidates(projectId, fotoBase){
    const base = `./assets/img/proyectos/${projectId}/${fotoBase}`;
    return EXT.map(ext => encodeURI(base + ext));
  }
  function load(){
    const p = PROJECTS[pi];
    setSrcWithFallback(lbImg, buildCandidates(p.id, p.fotos[fi]));
    lbCap.textContent = `${p.titulo} — Foto ${fi+1} / ${p.fotos.length}`;
  }
  function open(projectIndex, fotoIndex=0){ pi = projectIndex; fi = fotoIndex; load(); lb.setAttribute('aria-hidden','false'); document.body.style.overflow='hidden'; }
  function close(){ lb.setAttribute('aria-hidden','true'); document.body.style.overflow=''; }
  function prev(){ fi = (fi - 1 + PROJECTS[pi].fotos.length) % PROJECTS[pi].fotos.length; load(); }
  function next(){ fi = (fi + 1) % PROJECTS[pi].fotos.length; load(); }

  openers.forEach(a => a.addEventListener('click', e => { e.preventDefault(); open(+a.dataset.project, 0); }));
  btnClose.addEventListener('click', close);
  btnPrev.addEventListener('click', prev);
  btnNext.addEventListener('click', next);
  lb.addEventListener('click', (e)=>{ if(e.target === lb) close(); });
  window.addEventListener('keydown', (e)=>{
    if(lb.getAttribute('aria-hidden') === 'true') return;
    if(e.key === 'Escape') close();
    if(e.key === 'ArrowLeft') prev();
    if(e.key === 'ArrowRight') next();
  });
})();
</script>
</body>
</html>

